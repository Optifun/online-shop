@using OnlineShop.Client.Services.State
@inject AppState _appState

<MudDialog Options="dialogOptions">
    <TitleContent>
        <MudText Typo="Typo.h6">
            Вход в систему
        </MudText>
    </TitleContent>
    <DialogContent>
        <MudTabs Elevation="0" Rounded="true" Centered="true" PanelClass="pa-6">
            <MudTabPanel Text="Авторизация">
                <LoginForm OnLogin="HandleAuth"/>
            </MudTabPanel>
            <MudTabPanel Text="Регистрация">
                <RegisterForm OnRegister="HandleAuth"/>
            </MudTabPanel>
        </MudTabs>
    </DialogContent>
</MudDialog>

@code {

    [CascadingParameter]
    MudDialogInstance MudDialog { get; set; }

    private DialogOptions dialogOptions = new() {FullWidth = true, CloseButton = true, DisableBackdropClick = true};

    private void HandleAuth(bool result)
    {
        if (result)
        {
            MudDialog.Close(true);
        }
    }

}